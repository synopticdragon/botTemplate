<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>My Project: sh.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('sh_8h_source.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">sh.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="sh_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="preprocessor">#ifndef K_SH_H_</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="preprocessor">#define K_SH_H_</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;</div><div class="line"><a name="l00004"></a><span class="lineno"><a class="line" href="sh_8h.html#a7a276367773516f9f6e660c3f4635beb">    4</a></span>&#160;<span class="preprocessor">#define _redAlert_ ((SH*)screen)-&gt;error</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespace_k.html">K</a> {</div><div class="line"><a name="l00007"></a><span class="lineno"><a class="line" href="namespace_k.html#a1c3ecbe3046298af183be61349de6900">    7</a></span>&#160;  vector&lt;function&lt;void()&gt;*&gt; <a class="code" href="namespace_k.html#a1c3ecbe3046298af183be61349de6900">endingFn</a>;</div><div class="line"><a name="l00008"></a><span class="lineno"><a class="line" href="namespace_k.html#abd378d9900fa5f1effc177ef1a3eaf88">    8</a></span>&#160;  <span class="keywordtype">char</span> <a class="code" href="namespace_k.html#a1203c8bea34ade1c1d524b0df5bfdf37">RBLACK</a>[] = <span class="stringliteral">&quot;\033[0;30m&quot;</span>, <a class="code" href="namespace_k.html#ae976a2e4e900318926db4fa1624bc30a">RRED</a>[]    = <span class="stringliteral">&quot;\033[0;31m&quot;</span>, <a class="code" href="namespace_k.html#a9c4858b8b93beb509648e92071d727ca">RGREEN</a>[] = <span class="stringliteral">&quot;\033[0;32m&quot;</span>, <a class="code" href="namespace_k.html#abd378d9900fa5f1effc177ef1a3eaf88">RYELLOW</a>[] = <span class="stringliteral">&quot;\033[0;33m&quot;</span>,</div><div class="line"><a name="l00009"></a><span class="lineno"><a class="line" href="namespace_k.html#a37a06065638319240adf83b5bdfdf313">    9</a></span>&#160;       <a class="code" href="namespace_k.html#a035ca76c4d8abd4253d53e1dfb952368">RBLUE</a>[]  = <span class="stringliteral">&quot;\033[0;34m&quot;</span>, <a class="code" href="namespace_k.html#a16f016905667739f3d64b6ab7e4d7f95">RPURPLE</a>[] = <span class="stringliteral">&quot;\033[0;35m&quot;</span>, <a class="code" href="namespace_k.html#a816b9af371d1741fead9f73abb978052">RCYAN</a>[]  = <span class="stringliteral">&quot;\033[0;36m&quot;</span>, <a class="code" href="namespace_k.html#a37a06065638319240adf83b5bdfdf313">RWHITE</a>[]  = <span class="stringliteral">&quot;\033[0;37m&quot;</span>,</div><div class="line"><a name="l00010"></a><span class="lineno"><a class="line" href="namespace_k.html#aa522b04bcf50df65fd4819d0b46d6664">   10</a></span>&#160;       <a class="code" href="namespace_k.html#a1b5ebfb775cf88920f1beb1b59c80137">BBLACK</a>[] = <span class="stringliteral">&quot;\033[1;30m&quot;</span>, <a class="code" href="namespace_k.html#ae09107156acfd00c2e31f049f70b622a">BRED</a>[]    = <span class="stringliteral">&quot;\033[1;31m&quot;</span>, <a class="code" href="namespace_k.html#aa83d8d71c463813bdbd57fab20312b7d">BGREEN</a>[] = <span class="stringliteral">&quot;\033[1;32m&quot;</span>, <a class="code" href="namespace_k.html#aa522b04bcf50df65fd4819d0b46d6664">BYELLOW</a>[] = <span class="stringliteral">&quot;\033[1;33m&quot;</span>,</div><div class="line"><a name="l00011"></a><span class="lineno"><a class="line" href="namespace_k.html#a723a80b3fad44765a8c6371fd4841609">   11</a></span>&#160;       <a class="code" href="namespace_k.html#a2fcd49453f10ffd3ccb5aebe30f5d0c0">BBLUE</a>[]  = <span class="stringliteral">&quot;\033[1;34m&quot;</span>, <a class="code" href="namespace_k.html#adcaba86455bd5bd0cbdeac28c4fced2b">BPURPLE</a>[] = <span class="stringliteral">&quot;\033[1;35m&quot;</span>, <a class="code" href="namespace_k.html#a2c3e50cb34db635087047ef75ab1ca52">BCYAN</a>[]  = <span class="stringliteral">&quot;\033[1;36m&quot;</span>, <a class="code" href="namespace_k.html#a723a80b3fad44765a8c6371fd4841609">BWHITE</a>[]  = <span class="stringliteral">&quot;\033[1;37m&quot;</span>,</div><div class="line"><a name="l00012"></a><span class="lineno"><a class="line" href="namespace_k.html#a610d2184e75b6475eaf1f16700be824e">   12</a></span>&#160;       <a class="code" href="namespace_k.html#a610d2184e75b6475eaf1f16700be824e">RRESET</a>[] = <span class="stringliteral">&quot;\033[0m&quot;</span>;</div><div class="line"><a name="l00013"></a><span class="lineno"><a class="line" href="class_k_1_1_s_h.html">   13</a></span>&#160;  <span class="keyword">class </span><a class="code" href="class_k_1_1_s_h.html">SH</a> {</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;    <span class="keyword">private</span>:</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;      future&lt;mHotkey&gt; hotkey;</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;      map&lt;mHotkey, function&lt;void()&gt;*&gt; hotFn;</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;      WINDOW *wBorder = <span class="keyword">nullptr</span>,</div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;             *wLog    = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;      <span class="keywordtype">int</span> naked = 0,</div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;          cursor = 0,</div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;          spinOrders = 0,</div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;          port = 0,</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;          baseAmount = 0,</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;          baseHeld = 0,</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;          quoteAmount = 0,</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;          quoteHeld = 0;</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;      <span class="keywordtype">string</span> title = <span class="stringliteral">&quot;?&quot;</span>,</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;             base = <span class="stringliteral">&quot;?&quot;</span>,</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;             quote = <span class="stringliteral">&quot;?&quot;</span>,</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;             baseValue = <span class="stringliteral">&quot;?&quot;</span>,</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;             quoteValue = <span class="stringliteral">&quot;?&quot;</span>,</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;             fairValue = <span class="stringliteral">&quot;?&quot;</span>;</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;      multimap&lt;mPrice, mOrder, greater&lt;mPrice&gt;&gt; openOrders;</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;    <span class="keyword">public</span>:</div><div class="line"><a name="l00035"></a><span class="lineno"><a class="line" href="class_k_1_1_s_h.html#aeb72b6e20d3a581dcdede91beb824d9f">   35</a></span>&#160;      <span class="keywordtype">string</span> <a class="code" href="class_k_1_1_s_h.html#aeb72b6e20d3a581dcdede91beb824d9f">protocol</a> = <span class="stringliteral">&quot;HTTP&quot;</span>;</div><div class="line"><a name="l00036"></a><span class="lineno"><a class="line" href="class_k_1_1_s_h.html#a572945fdb3d861b6c685f6c5af9f1376">   36</a></span>&#160;      <a class="code" href="namespace_k.html#a3da250819294c55d5728586148bfa19e">mConnectivity</a> *<a class="code" href="class_k_1_1_s_h.html#a572945fdb3d861b6c685f6c5af9f1376">gwConnected</a>         = <span class="keyword">nullptr</span>,</div><div class="line"><a name="l00037"></a><span class="lineno"><a class="line" href="class_k_1_1_s_h.html#a6d9ed4a9793ac810eca371568ee912d3">   37</a></span>&#160;                    *<a class="code" href="class_k_1_1_s_h.html#a6d9ed4a9793ac810eca371568ee912d3">gwConnectedExchange</a> = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;    <span class="keyword">public</span>:</div><div class="line"><a name="l00040"></a><span class="lineno"><a class="line" href="class_k_1_1_s_h.html#a318dc7a3f5064dac8e50e5d9fbd5d75f">   40</a></span>&#160;      <a class="code" href="class_k_1_1_s_h.html#a318dc7a3f5064dac8e50e5d9fbd5d75f">SH</a>() {</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;        cout &lt;&lt; <a class="code" href="namespace_k.html#aa83d8d71c463813bdbd57fab20312b7d">BGREEN</a> &lt;&lt; <span class="stringliteral">&quot;K&quot;</span> &lt;&lt; <a class="code" href="namespace_k.html#a9c4858b8b93beb509648e92071d727ca">RGREEN</a> &lt;&lt; <span class="stringliteral">&quot; build &quot;</span> &lt;&lt; K_BUILD &lt;&lt; <span class="charliteral">&#39; &#39;</span> &lt;&lt; K_STAMP &lt;&lt; <span class="charliteral">&#39;.&#39;</span> &lt;&lt; <a class="code" href="namespace_k.html#ae09107156acfd00c2e31f049f70b622a">BRED</a> &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;        endingFn.push_back(&amp;happyEnding);</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;        <span class="keywordflow">if</span> (access(<span class="stringliteral">&quot;.git&quot;</span>, F_OK) != -1) {</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;          system(<span class="stringliteral">&quot;git fetch&quot;</span>);</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;          <span class="keywordtype">string</span> k = <a class="code" href="class_k_1_1_s_h.html#abb2930f405f8983fca3bab0e1d505a85">changelog</a>();</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;          <a class="code" href="class_k_1_1_s_h.html#a09145551996ba5f25fb67280967aef90">logVer</a>(k, count(k.begin(), k.end(), <span class="charliteral">&#39;\n&#39;</span>));</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;        } <span class="keywordflow">else</span> <a class="code" href="class_k_1_1_s_h.html#a09145551996ba5f25fb67280967aef90">logVer</a>(<span class="stringliteral">&quot;&quot;</span>, -1);</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;        cout &lt;&lt; <a class="code" href="namespace_k.html#a610d2184e75b6475eaf1f16700be824e">RRESET</a>;</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;      };</div><div class="line"><a name="l00050"></a><span class="lineno"><a class="line" href="class_k_1_1_s_h.html#abacd4501fa9314b249f770765816dce5">   50</a></span>&#160;      <span class="keywordtype">void</span> <a class="code" href="class_k_1_1_s_h.html#abacd4501fa9314b249f770765816dce5">config</a>(<span class="keywordtype">string</span> base_, <span class="keywordtype">string</span> quote_, <span class="keywordtype">string</span> argExchange, <span class="keywordtype">int</span> argColors, <span class="keywordtype">int</span> argPort, <span class="keywordtype">int</span> argNaked) {</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;        naked = argNaked;</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;        <span class="keywordflow">if</span> (naked) <span class="keywordflow">return</span>;</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;        <span class="keywordflow">if</span> (!(wBorder = initscr())) {</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;          cout &lt;&lt; <span class="stringliteral">&quot;NCURSES&quot;</span> &lt;&lt; <a class="code" href="namespace_k.html#ae976a2e4e900318926db4fa1624bc30a">RRED</a> &lt;&lt; <span class="stringliteral">&quot; Errrror:&quot;</span> &lt;&lt; <a class="code" href="namespace_k.html#ae09107156acfd00c2e31f049f70b622a">BRED</a> &lt;&lt; <span class="stringliteral">&quot; Unable to initialize ncurses, try to run in your terminal \&quot;export TERM=xterm\&quot;, or use --naked argument.&quot;</span> &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;          exit(EXIT_SUCCESS);</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;        }</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;        base = base_;</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;        quote = quote_;</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;        title = argExchange;</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;        port = argPort;</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;        <span class="keywordflow">if</span> (argColors) start_color();</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;        use_default_colors();</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;        cbreak();</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;        noecho();</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;        keypad(wBorder, <span class="keyword">true</span>);</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;        init_pair(COLOR_WHITE, COLOR_WHITE, COLOR_BLACK);</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;        init_pair(COLOR_GREEN, COLOR_GREEN, COLOR_BLACK);</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;        init_pair(COLOR_RED, COLOR_RED, COLOR_BLACK);</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;        init_pair(COLOR_YELLOW, COLOR_YELLOW, COLOR_BLACK);</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;        init_pair(COLOR_BLUE, COLOR_BLUE, COLOR_BLACK);</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;        init_pair(COLOR_MAGENTA, COLOR_MAGENTA, COLOR_BLACK);</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;        init_pair(COLOR_CYAN, COLOR_CYAN, COLOR_BLACK);</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;        wLog = subwin(wBorder, getmaxy(wBorder)-4, getmaxx(wBorder)-2-6, 3, 2);</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;        scrollok(wLog, <span class="keyword">true</span>);</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;        idlok(wLog, <span class="keyword">true</span>);</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="preprocessor">#if CAN_RESIZE</span></div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;        signal(SIGWINCH, resize);</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;        <a class="code" href="class_k_1_1_s_h.html#a5f2e190b8261a98c97c2ea4e86670d54">refresh</a>();</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;        hotkeys();</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;      };</div><div class="line"><a name="l00082"></a><span class="lineno"><a class="line" href="class_k_1_1_s_h.html#abb2930f405f8983fca3bab0e1d505a85">   82</a></span>&#160;      <span class="keyword">static</span> <span class="keywordtype">string</span> <a class="code" href="class_k_1_1_s_h.html#abb2930f405f8983fca3bab0e1d505a85">changelog</a>() {</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="class_k_1_1_f_n.html#ab3fdd85f18a0ef53c8b2fab520722313">FN::output</a>(<span class="stringliteral">&quot;test -d .git &amp;&amp; git --no-pager log --graph --oneline @..@{u}&quot;</span>);</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;      };</div><div class="line"><a name="l00085"></a><span class="lineno"><a class="line" href="class_k_1_1_s_h.html#a4c6bd9d7e5cc908ef96085609e455cb1">   85</a></span>&#160;      <span class="keywordtype">void</span> <a class="code" href="class_k_1_1_s_h.html#a4c6bd9d7e5cc908ef96085609e455cb1">pressme</a>(<a class="code" href="namespace_k.html#a211862d8b09ec46a051464b6859c1306">mHotkey</a> ch, <span class="keyword">function</span>&lt;<span class="keywordtype">void</span>()&gt; *fn) {</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;        <span class="keywordflow">if</span> (!wBorder) <span class="keywordflow">return</span>;</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;        hotFn[ch] = fn;</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;      };</div><div class="line"><a name="l00089"></a><span class="lineno"><a class="line" href="class_k_1_1_s_h.html#a2463a3acef2df4c951ce942a3229e44e">   89</a></span>&#160;      <span class="keywordtype">void</span> <a class="code" href="class_k_1_1_s_h.html#a2463a3acef2df4c951ce942a3229e44e">quit</a>() {</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;        <span class="keywordflow">if</span> (!wBorder) <span class="keywordflow">return</span>;</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;        beep();</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;        endwin();</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;        wBorder = <span class="keyword">nullptr</span>;</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;      };</div><div class="line"><a name="l00095"></a><span class="lineno"><a class="line" href="class_k_1_1_s_h.html#a4c49d97d050be83fa5908a03c8c47c8a">   95</a></span>&#160;      <span class="keywordtype">int</span> <a class="code" href="class_k_1_1_s_h.html#a4c49d97d050be83fa5908a03c8c47c8a">error</a>(<span class="keywordtype">string</span> k, <span class="keywordtype">string</span> s, <span class="keywordtype">bool</span> reboot = <span class="keyword">false</span>) {</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;        <a class="code" href="class_k_1_1_s_h.html#a2463a3acef2df4c951ce942a3229e44e">quit</a>();</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;        <a class="code" href="class_k_1_1_s_h.html#a81e184501800070f574e7b688069c3ec">logErr</a>(k, s);</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;        cout &lt;&lt; <a class="code" href="namespace_k.html#a610d2184e75b6475eaf1f16700be824e">RRESET</a>;</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;        <span class="keywordflow">return</span> reboot ? EXIT_FAILURE : EXIT_SUCCESS;</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;      };</div><div class="line"><a name="l00101"></a><span class="lineno"><a class="line" href="class_k_1_1_s_h.html#ae8fa6fc69497d85bcf25571f2f80f353">  101</a></span>&#160;      <span class="keywordtype">void</span> <a class="code" href="class_k_1_1_s_h.html#ae8fa6fc69497d85bcf25571f2f80f353">waitForUser</a>() {</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;        <span class="keywordflow">if</span> (!hotkey.valid() or hotkey.wait_for(chrono::nanoseconds(0)) != future_status::ready) <span class="keywordflow">return</span>;</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;        <a class="code" href="namespace_k.html#a211862d8b09ec46a051464b6859c1306">mHotkey</a> ch = hotkey.get();</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;        <span class="keywordflow">if</span> (ch == <a class="code" href="namespace_k.html#a211862d8b09ec46a051464b6859c1306a7694f4a66316e53c8cdd9d9954bd611d">mHotkey::q</a> or ch == <a class="code" href="namespace_k.html#a211862d8b09ec46a051464b6859c1306af09564c9ca56850d4cd6b3319e541aee">mHotkey::Q</a>)</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;          <span class="keyword">raise</span>(SIGINT);</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;        <span class="keywordflow">else</span> {</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;          <span class="keywordflow">if</span> (hotFn.find(ch) != hotFn.end())</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;            (*hotFn[ch])();</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;          hotkeys();</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;        }</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;      };</div><div class="line"><a name="l00112"></a><span class="lineno"><a class="line" href="class_k_1_1_s_h.html#a9467c6fc12388f8513d2f21f76bb7dc7">  112</a></span>&#160;      <span class="keywordtype">string</span> <a class="code" href="class_k_1_1_s_h.html#a9467c6fc12388f8513d2f21f76bb7dc7">stamp</a>() {</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;        chrono::system_clock::time_point clock = <a class="code" href="fn_8h.html#a8e4989b59a9e6ba0edbf26978c7a4f38">_Tclock_</a>;</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;        chrono::system_clock::duration t = clock.time_since_epoch();</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;        t -= chrono::duration_cast&lt;chrono::seconds&gt;(t);</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;        <span class="keyword">auto</span> milliseconds = chrono::duration_cast&lt;chrono::milliseconds&gt;(t);</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;        t -= milliseconds;</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;        <span class="keyword">auto</span> microseconds = chrono::duration_cast&lt;chrono::microseconds&gt;(t);</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;        stringstream microtime;</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;        microtime &lt;&lt; setfill(<span class="charliteral">&#39;0&#39;</span>) &lt;&lt; <span class="charliteral">&#39;.&#39;</span></div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;          &lt;&lt; setw(3) &lt;&lt; milliseconds.count()</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;          &lt;&lt; setw(3) &lt;&lt; microseconds.count();</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;        time_t tt = chrono::system_clock::to_time_t(clock);</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;        <span class="keywordtype">int</span> len = naked ? 15 : 9;</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;        <span class="keywordtype">char</span> datetime[len];</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;        strftime(datetime, len, naked ? <span class="stringliteral">&quot;%m/%d %T&quot;</span> : <span class="stringliteral">&quot;%T&quot;</span>, localtime(&amp;tt));</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;        <span class="keywordflow">if</span> (!wBorder) <span class="keywordflow">return</span> string(<a class="code" href="namespace_k.html#aa83d8d71c463813bdbd57fab20312b7d">BGREEN</a>) + datetime + <a class="code" href="namespace_k.html#a9c4858b8b93beb509648e92071d727ca">RGREEN</a> + microtime.str() + <a class="code" href="namespace_k.html#a723a80b3fad44765a8c6371fd4841609">BWHITE</a> + <span class="charliteral">&#39; &#39;</span>;</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;        wattron(wLog, COLOR_PAIR(COLOR_GREEN));</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;        wattron(wLog, A_BOLD);</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;        wprintw(wLog, datetime);</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;        wattroff(wLog, A_BOLD);</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;        wprintw(wLog, microtime.str().data());</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;        wattroff(wLog, COLOR_PAIR(COLOR_GREEN));</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;        wprintw(wLog, <span class="stringliteral">&quot; &quot;</span>);</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;        <span class="keywordflow">return</span> <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;      };</div><div class="line"><a name="l00137"></a><span class="lineno"><a class="line" href="class_k_1_1_s_h.html#aa6ff36d9cf9124487791c66fe0f121e7">  137</a></span>&#160;      <span class="keywordtype">void</span> <a class="code" href="class_k_1_1_s_h.html#aa6ff36d9cf9124487791c66fe0f121e7">logWar</a>(<span class="keywordtype">string</span> k, <span class="keywordtype">string</span> s) {</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;        <a class="code" href="class_k_1_1_s_h.html#a81e184501800070f574e7b688069c3ec">logErr</a>(k, s, <span class="stringliteral">&quot; Warrrrning: &quot;</span>);</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;      };</div><div class="line"><a name="l00140"></a><span class="lineno"><a class="line" href="class_k_1_1_s_h.html#a81e184501800070f574e7b688069c3ec">  140</a></span>&#160;      <span class="keywordtype">void</span> <a class="code" href="class_k_1_1_s_h.html#a81e184501800070f574e7b688069c3ec">logErr</a>(<span class="keywordtype">string</span> k, <span class="keywordtype">string</span> s, <span class="keywordtype">string</span> m = <span class="stringliteral">&quot; Errrror: &quot;</span>) {</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;        <span class="keywordflow">if</span> (!wBorder) {</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;          cout &lt;&lt; <a class="code" href="class_k_1_1_s_h.html#a9467c6fc12388f8513d2f21f76bb7dc7">stamp</a>() &lt;&lt; k &lt;&lt; <a class="code" href="namespace_k.html#ae976a2e4e900318926db4fa1624bc30a">RRED</a> &lt;&lt; m &lt;&lt; <a class="code" href="namespace_k.html#ae09107156acfd00c2e31f049f70b622a">BRED</a> &lt;&lt; s &lt;&lt; <span class="stringliteral">&quot;.\n&quot;</span>;</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;          <span class="keywordflow">return</span>;</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;        }</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;        wmove(wLog, getmaxy(wLog)-1, 0);</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;        <a class="code" href="class_k_1_1_s_h.html#a9467c6fc12388f8513d2f21f76bb7dc7">stamp</a>();</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;        wattron(wLog, COLOR_PAIR(COLOR_WHITE));</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;        wattron(wLog, A_BOLD);</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;        wprintw(wLog, k.data());</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;        wattroff(wLog, COLOR_PAIR(COLOR_WHITE));</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;        wattron(wLog, COLOR_PAIR(COLOR_RED));</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;        wprintw(wLog, m.data());</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;        wattroff(wLog, A_BOLD);</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;        wprintw(wLog, s.data());</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;        wattroff(wLog, COLOR_PAIR(COLOR_RED));</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;        wattron(wLog, COLOR_PAIR(COLOR_WHITE));</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;        wprintw(wLog, <span class="stringliteral">&quot;.\n&quot;</span>);</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;        wattroff(wLog, COLOR_PAIR(COLOR_WHITE));</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;        wrefresh(wLog);</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;      };</div><div class="line"><a name="l00161"></a><span class="lineno"><a class="line" href="class_k_1_1_s_h.html#af67052c37f765ca542764f5fcfdde593">  161</a></span>&#160;      <span class="keywordtype">void</span> <a class="code" href="class_k_1_1_s_h.html#af67052c37f765ca542764f5fcfdde593">logDB</a>(<span class="keywordtype">string</span> k) {</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;        <span class="keywordflow">if</span> (!wBorder) {</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;          cout &lt;&lt; <a class="code" href="class_k_1_1_s_h.html#a9467c6fc12388f8513d2f21f76bb7dc7">stamp</a>() &lt;&lt; <span class="stringliteral">&quot;DB &quot;</span> &lt;&lt; <a class="code" href="namespace_k.html#abd378d9900fa5f1effc177ef1a3eaf88">RYELLOW</a> &lt;&lt; k &lt;&lt; <a class="code" href="namespace_k.html#a37a06065638319240adf83b5bdfdf313">RWHITE</a> &lt;&lt; <span class="stringliteral">&quot; loaded OK.\n&quot;</span>;</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;          <span class="keywordflow">return</span>;</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;        }</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;        wmove(wLog, getmaxy(wLog)-1, 0);</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;        <a class="code" href="class_k_1_1_s_h.html#a9467c6fc12388f8513d2f21f76bb7dc7">stamp</a>();</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;        wattron(wLog, COLOR_PAIR(COLOR_WHITE));</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;        wattron(wLog, A_BOLD);</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;        wprintw(wLog, <span class="stringliteral">&quot;DB &quot;</span>);</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;        wattroff(wLog, A_BOLD);</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;        wattroff(wLog, COLOR_PAIR(COLOR_WHITE));</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;        wattron(wLog, COLOR_PAIR(COLOR_YELLOW));</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;        wprintw(wLog, k.data());</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;        wattroff(wLog, COLOR_PAIR(COLOR_YELLOW));</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;        wattron(wLog, COLOR_PAIR(COLOR_WHITE));</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;        wprintw(wLog, <span class="stringliteral">&quot; loaded OK.\n&quot;</span>);</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;        wattroff(wLog, COLOR_PAIR(COLOR_WHITE));</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;        wrefresh(wLog);</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;      };</div><div class="line"><a name="l00181"></a><span class="lineno"><a class="line" href="class_k_1_1_s_h.html#aca26ec816d45509907350a56b57ea869">  181</a></span>&#160;      <span class="keywordtype">void</span> <a class="code" href="class_k_1_1_s_h.html#aca26ec816d45509907350a56b57ea869">logUI</a>() {</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;        <span class="keywordflow">if</span> (!wBorder) {</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;          cout &lt;&lt; <a class="code" href="class_k_1_1_s_h.html#a9467c6fc12388f8513d2f21f76bb7dc7">stamp</a>() &lt;&lt; <span class="stringliteral">&quot;UI&quot;</span> &lt;&lt; <a class="code" href="namespace_k.html#a37a06065638319240adf83b5bdfdf313">RWHITE</a> &lt;&lt; <span class="stringliteral">&quot; ready over &quot;</span> &lt;&lt; <a class="code" href="namespace_k.html#abd378d9900fa5f1effc177ef1a3eaf88">RYELLOW</a> &lt;&lt; protocol &lt;&lt; <a class="code" href="namespace_k.html#a37a06065638319240adf83b5bdfdf313">RWHITE</a> &lt;&lt; <span class="stringliteral">&quot; on external port &quot;</span> &lt;&lt; <a class="code" href="namespace_k.html#abd378d9900fa5f1effc177ef1a3eaf88">RYELLOW</a> &lt;&lt; to_string(port) &lt;&lt; <a class="code" href="namespace_k.html#a37a06065638319240adf83b5bdfdf313">RWHITE</a> &lt;&lt; <span class="stringliteral">&quot;.\n&quot;</span>;</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;          <span class="keywordflow">return</span>;</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;        }</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;        wmove(wLog, getmaxy(wLog)-1, 0);</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;        <a class="code" href="class_k_1_1_s_h.html#a9467c6fc12388f8513d2f21f76bb7dc7">stamp</a>();</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;        wattron(wLog, COLOR_PAIR(COLOR_WHITE));</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;        wattron(wLog, A_BOLD);</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;        wprintw(wLog, <span class="stringliteral">&quot;UI&quot;</span>);</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;        wattroff(wLog, A_BOLD);</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;        wprintw(wLog, <span class="stringliteral">&quot; ready over &quot;</span>);</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;        wattroff(wLog, COLOR_PAIR(COLOR_WHITE));</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;        wattron(wLog, COLOR_PAIR(COLOR_YELLOW));</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;        wprintw(wLog, protocol.data());</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;        wattroff(wLog, COLOR_PAIR(COLOR_YELLOW));</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;        wattron(wLog, COLOR_PAIR(COLOR_WHITE));</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;        wprintw(wLog, <span class="stringliteral">&quot; on external port &quot;</span>);</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;        wattroff(wLog, COLOR_PAIR(COLOR_WHITE));</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;        wattron(wLog, COLOR_PAIR(COLOR_YELLOW));</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;        wprintw(wLog, to_string(port).data());</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;        wattroff(wLog, COLOR_PAIR(COLOR_YELLOW));</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;        wattron(wLog, COLOR_PAIR(COLOR_WHITE));</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;        wprintw(wLog, <span class="stringliteral">&quot;.\n&quot;</span>);</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;        wattroff(wLog, COLOR_PAIR(COLOR_WHITE));</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;        <a class="code" href="class_k_1_1_s_h.html#a5f2e190b8261a98c97c2ea4e86670d54">refresh</a>();</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;      };</div><div class="line"><a name="l00208"></a><span class="lineno"><a class="line" href="class_k_1_1_s_h.html#aeea74b282180b4d73d9855920edecc7f">  208</a></span>&#160;      <span class="keywordtype">void</span> <a class="code" href="class_k_1_1_s_h.html#aeea74b282180b4d73d9855920edecc7f">logUIsess</a>(<span class="keywordtype">int</span> k, <span class="keywordtype">string</span> s) {</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;        <span class="keywordflow">if</span> (s.length() &gt; 7 and s.substr(0, 7) == <span class="stringliteral">&quot;::ffff:&quot;</span>) s = s.substr(7);</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;        <span class="keywordflow">if</span> (!wBorder) {</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;          cout &lt;&lt; <a class="code" href="class_k_1_1_s_h.html#a9467c6fc12388f8513d2f21f76bb7dc7">stamp</a>() &lt;&lt; <span class="stringliteral">&quot;UI &quot;</span> &lt;&lt; <a class="code" href="namespace_k.html#abd378d9900fa5f1effc177ef1a3eaf88">RYELLOW</a> &lt;&lt; to_string(k) &lt;&lt; <a class="code" href="namespace_k.html#a37a06065638319240adf83b5bdfdf313">RWHITE</a> &lt;&lt; <span class="stringliteral">&quot; currently connected, last connection was from &quot;</span> &lt;&lt; <a class="code" href="namespace_k.html#abd378d9900fa5f1effc177ef1a3eaf88">RYELLOW</a> &lt;&lt; s &lt;&lt; <a class="code" href="namespace_k.html#a37a06065638319240adf83b5bdfdf313">RWHITE</a> &lt;&lt; <span class="stringliteral">&quot;.\n&quot;</span>;</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;          <span class="keywordflow">return</span>;</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;        }</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;        wmove(wLog, getmaxy(wLog)-1, 0);</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;        <a class="code" href="class_k_1_1_s_h.html#a9467c6fc12388f8513d2f21f76bb7dc7">stamp</a>();</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;        wattron(wLog, COLOR_PAIR(COLOR_WHITE));</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;        wattron(wLog, A_BOLD);</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;        wprintw(wLog, <span class="stringliteral">&quot;UI &quot;</span>);</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;        wattroff(wLog, A_BOLD);</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;        wattroff(wLog, COLOR_PAIR(COLOR_WHITE));</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;        wattron(wLog, COLOR_PAIR(COLOR_YELLOW));</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;        wprintw(wLog, to_string(k).data());</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;        wattroff(wLog, COLOR_PAIR(COLOR_YELLOW));</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;        wattron(wLog, COLOR_PAIR(COLOR_WHITE));</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;        wprintw(wLog, <span class="stringliteral">&quot; currently connected, last connection was from &quot;</span>);</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;        wattroff(wLog, COLOR_PAIR(COLOR_WHITE));</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;        wattron(wLog, COLOR_PAIR(COLOR_YELLOW));</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;        wprintw(wLog, s.data());</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;        wattroff(wLog, COLOR_PAIR(COLOR_YELLOW));</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;        wattron(wLog, COLOR_PAIR(COLOR_WHITE));</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;        wprintw(wLog, <span class="stringliteral">&quot;.\n&quot;</span>);</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;        wattroff(wLog, COLOR_PAIR(COLOR_WHITE));</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;        wrefresh(wLog);</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;      };</div><div class="line"><a name="l00235"></a><span class="lineno"><a class="line" href="class_k_1_1_s_h.html#a09145551996ba5f25fb67280967aef90">  235</a></span>&#160;      <span class="keywordtype">void</span> <a class="code" href="class_k_1_1_s_h.html#a09145551996ba5f25fb67280967aef90">logVer</a>(<span class="keywordtype">string</span> k, <span class="keywordtype">int</span> c) {</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;        cout &lt;&lt; <a class="code" href="namespace_k.html#aa83d8d71c463813bdbd57fab20312b7d">BGREEN</a> &lt;&lt; K_0_DAY &lt;&lt; <a class="code" href="namespace_k.html#a9c4858b8b93beb509648e92071d727ca">RGREEN</a> &lt;&lt; string(c == -1 ? <span class="stringliteral">&quot; (zip install).\n&quot;</span> : (!c ? <span class="stringliteral">&quot; (0day).\n&quot;</span> : <span class="keywordtype">string</span>(<span class="stringliteral">&quot; -&quot;</span>).append(to_string(c)).append(<span class="stringliteral">&quot;commit&quot;</span>).append(c &gt; 1?<span class="stringliteral">&quot;s..\n&quot;</span>:<span class="stringliteral">&quot;..\n&quot;</span>))) &lt;&lt; <a class="code" href="namespace_k.html#abd378d9900fa5f1effc177ef1a3eaf88">RYELLOW</a> &lt;&lt; (c ? k : <span class="stringliteral">&quot;&quot;</span>) &lt;&lt; <a class="code" href="namespace_k.html#a37a06065638319240adf83b5bdfdf313">RWHITE</a>;</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;      };</div><div class="line"><a name="l00238"></a><span class="lineno"><a class="line" href="class_k_1_1_s_h.html#a50fa1ebfccaac1a37b97b499780a4d30">  238</a></span>&#160;      <span class="keywordtype">void</span> <a class="code" href="class_k_1_1_s_h.html#a50fa1ebfccaac1a37b97b499780a4d30">log</a>(<a class="code" href="struct_k_1_1m_trade.html">mTrade</a> k, <span class="keywordtype">string</span> e) {</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;        <span class="keywordflow">if</span> (!wBorder) {</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;          cout &lt;&lt; <a class="code" href="class_k_1_1_s_h.html#a9467c6fc12388f8513d2f21f76bb7dc7">stamp</a>() &lt;&lt; <span class="stringliteral">&quot;GW &quot;</span> &lt;&lt; (k.<a class="code" href="struct_k_1_1m_trade.html#afc5924267a11b19eb2f198a919a12351">side</a> == <a class="code" href="namespace_k.html#a0b7d0fa0ffc9f87da1d6499cbcee7e94ae36ba1e187ae2b3ebcfd0a4c68367caf">mSide::Bid</a> ? <a class="code" href="namespace_k.html#a816b9af371d1741fead9f73abb978052">RCYAN</a> : <a class="code" href="namespace_k.html#a16f016905667739f3d64b6ab7e4d7f95">RPURPLE</a>) &lt;&lt; e &lt;&lt; <span class="stringliteral">&quot; TRADE &quot;</span> &lt;&lt; (k.<a class="code" href="struct_k_1_1m_trade.html#afc5924267a11b19eb2f198a919a12351">side</a> == <a class="code" href="namespace_k.html#a0b7d0fa0ffc9f87da1d6499cbcee7e94ae36ba1e187ae2b3ebcfd0a4c68367caf">mSide::Bid</a> ? <a class="code" href="namespace_k.html#a2c3e50cb34db635087047ef75ab1ca52">BCYAN</a> : <a class="code" href="namespace_k.html#adcaba86455bd5bd0cbdeac28c4fced2b">BPURPLE</a>) &lt;&lt; (k.<a class="code" href="struct_k_1_1m_trade.html#afc5924267a11b19eb2f198a919a12351">side</a> == <a class="code" href="namespace_k.html#a0b7d0fa0ffc9f87da1d6499cbcee7e94ae36ba1e187ae2b3ebcfd0a4c68367caf">mSide::Bid</a> ? <span class="stringliteral">&quot;BUY  &quot;</span> : <span class="stringliteral">&quot;SELL &quot;</span>) &lt;&lt; k.<a class="code" href="struct_k_1_1m_trade.html#ab51872d3926e8302926e8ac851dbb158">quantity</a> &lt;&lt; <span class="charliteral">&#39; &#39;</span> &lt;&lt; k.<a class="code" href="struct_k_1_1m_trade.html#a11dec7b102d6df830347649bfbf35399">pair</a>.<a class="code" href="struct_k_1_1m_pair.html#a88838a75375332fd734e38ba4d7d870c">base</a> &lt;&lt; <span class="stringliteral">&quot; at price &quot;</span> &lt;&lt; k.<a class="code" href="struct_k_1_1m_trade.html#a96d6f95b2441f538965c5d8c1aa32f4e">price</a> &lt;&lt; <span class="charliteral">&#39; &#39;</span> &lt;&lt; k.<a class="code" href="struct_k_1_1m_trade.html#a11dec7b102d6df830347649bfbf35399">pair</a>.<a class="code" href="struct_k_1_1m_pair.html#abb05d77de0b838cdc580fe5759070aad">quote</a> &lt;&lt; <span class="stringliteral">&quot; (value &quot;</span> &lt;&lt; k.<a class="code" href="struct_k_1_1m_trade.html#a2c33cdf6b415658a577653196c59739a">value</a> &lt;&lt; <span class="charliteral">&#39; &#39;</span> &lt;&lt; k.<a class="code" href="struct_k_1_1m_trade.html#a11dec7b102d6df830347649bfbf35399">pair</a>.<a class="code" href="struct_k_1_1m_pair.html#abb05d77de0b838cdc580fe5759070aad">quote</a> &lt;&lt; <span class="stringliteral">&quot;).\n&quot;</span>;</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;          <span class="keywordflow">return</span>;</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;        }</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;        wmove(wLog, getmaxy(wLog)-1, 0);</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;        <a class="code" href="class_k_1_1_s_h.html#a9467c6fc12388f8513d2f21f76bb7dc7">stamp</a>();</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;        wattron(wLog, A_BOLD);</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;        wattron(wLog, COLOR_PAIR(COLOR_WHITE));</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;        wprintw(wLog, <span class="stringliteral">&quot;GW &quot;</span>);</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;        wattroff(wLog, COLOR_PAIR(COLOR_WHITE));</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;        wattron(wLog, COLOR_PAIR(k.<a class="code" href="struct_k_1_1m_trade.html#afc5924267a11b19eb2f198a919a12351">side</a> == <a class="code" href="namespace_k.html#a0b7d0fa0ffc9f87da1d6499cbcee7e94ae36ba1e187ae2b3ebcfd0a4c68367caf">mSide::Bid</a> ? COLOR_CYAN : COLOR_MAGENTA));</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;        wprintw(wLog, <span class="keywordtype">string</span>(e).append(<span class="stringliteral">&quot; TRADE &quot;</span>).data());</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;        wattroff(wLog, A_BOLD);</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;        wprintw(wLog, (<span class="keywordtype">string</span>(k.<a class="code" href="struct_k_1_1m_trade.html#afc5924267a11b19eb2f198a919a12351">side</a> == <a class="code" href="namespace_k.html#a0b7d0fa0ffc9f87da1d6499cbcee7e94ae36ba1e187ae2b3ebcfd0a4c68367caf">mSide::Bid</a> ? <span class="stringliteral">&quot;BUY  &quot;</span> : <span class="stringliteral">&quot;SELL &quot;</span>)</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;          + <a class="code" href="class_k_1_1_f_n.html#ae63dba2964cf9ff6d985f498dd9d0e57">FN::str8</a>(k.<a class="code" href="struct_k_1_1m_trade.html#ab51872d3926e8302926e8ac851dbb158">quantity</a>) + <span class="charliteral">&#39; &#39;</span> + k.<a class="code" href="struct_k_1_1m_trade.html#a11dec7b102d6df830347649bfbf35399">pair</a>.<a class="code" href="struct_k_1_1m_pair.html#a88838a75375332fd734e38ba4d7d870c">base</a> + <span class="stringliteral">&quot; at price &quot;</span></div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;          + <a class="code" href="class_k_1_1_f_n.html#ae63dba2964cf9ff6d985f498dd9d0e57">FN::str8</a>(k.<a class="code" href="struct_k_1_1m_trade.html#a96d6f95b2441f538965c5d8c1aa32f4e">price</a>) + <span class="charliteral">&#39; &#39;</span> + k.<a class="code" href="struct_k_1_1m_trade.html#a11dec7b102d6df830347649bfbf35399">pair</a>.<a class="code" href="struct_k_1_1m_pair.html#abb05d77de0b838cdc580fe5759070aad">quote</a> + <span class="stringliteral">&quot; (value &quot;</span></div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;          + <a class="code" href="class_k_1_1_f_n.html#ae63dba2964cf9ff6d985f498dd9d0e57">FN::str8</a>(k.<a class="code" href="struct_k_1_1m_trade.html#a2c33cdf6b415658a577653196c59739a">value</a>) + <span class="charliteral">&#39; &#39;</span> + k.<a class="code" href="struct_k_1_1m_trade.html#a11dec7b102d6df830347649bfbf35399">pair</a>.<a class="code" href="struct_k_1_1m_pair.html#abb05d77de0b838cdc580fe5759070aad">quote</a> + <span class="stringliteral">&quot;)&quot;</span></div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;        ).data());</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;        wprintw(wLog, <span class="stringliteral">&quot;.\n&quot;</span>);</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;        wattroff(wLog, COLOR_PAIR(k.<a class="code" href="struct_k_1_1m_trade.html#afc5924267a11b19eb2f198a919a12351">side</a> == <a class="code" href="namespace_k.html#a0b7d0fa0ffc9f87da1d6499cbcee7e94ae36ba1e187ae2b3ebcfd0a4c68367caf">mSide::Bid</a> ? COLOR_CYAN : COLOR_MAGENTA));</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;        wrefresh(wLog);</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;      };</div><div class="line"><a name="l00261"></a><span class="lineno"><a class="line" href="class_k_1_1_s_h.html#a05d165fd99c6a9407040879a506bcf94">  261</a></span>&#160;      <span class="keywordtype">void</span> <a class="code" href="class_k_1_1_s_h.html#a05d165fd99c6a9407040879a506bcf94">log</a>(<span class="keywordtype">string</span> k, <span class="keywordtype">string</span> s, <span class="keywordtype">string</span> v) {</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;        <span class="keywordflow">if</span> (!wBorder) {</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;          cout &lt;&lt; <a class="code" href="class_k_1_1_s_h.html#a9467c6fc12388f8513d2f21f76bb7dc7">stamp</a>() &lt;&lt; k &lt;&lt; <a class="code" href="namespace_k.html#a37a06065638319240adf83b5bdfdf313">RWHITE</a> &lt;&lt; <span class="charliteral">&#39; &#39;</span> &lt;&lt; s &lt;&lt; <span class="charliteral">&#39; &#39;</span> &lt;&lt; RYELLOW &lt;&lt; v &lt;&lt; <a class="code" href="namespace_k.html#a37a06065638319240adf83b5bdfdf313">RWHITE</a> &lt;&lt; <span class="stringliteral">&quot;.\n&quot;</span>;</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;          <span class="keywordflow">return</span>;</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;        }</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;        wmove(wLog, getmaxy(wLog)-1, 0);</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;        <a class="code" href="class_k_1_1_s_h.html#a9467c6fc12388f8513d2f21f76bb7dc7">stamp</a>();</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;        wattron(wLog, COLOR_PAIR(COLOR_WHITE));</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;        wattron(wLog, A_BOLD);</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;        wprintw(wLog, k.data());</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;        wattroff(wLog, A_BOLD);</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;        wprintw(wLog, <span class="keywordtype">string</span>(<span class="stringliteral">&quot; &quot;</span>).append(s).append(<span class="stringliteral">&quot; &quot;</span>).data());</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;        wattroff(wLog, COLOR_PAIR(COLOR_WHITE));</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;        wattron(wLog, COLOR_PAIR(COLOR_YELLOW));</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;        wprintw(wLog, v.data());</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;        wattroff(wLog, COLOR_PAIR(COLOR_YELLOW));</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;        wattron(wLog, COLOR_PAIR(COLOR_WHITE));</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;        wprintw(wLog, <span class="stringliteral">&quot;.\n&quot;</span>);</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;        wattroff(wLog, COLOR_PAIR(COLOR_WHITE));</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;        wrefresh(wLog);</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;      };</div><div class="line"><a name="l00282"></a><span class="lineno"><a class="line" href="class_k_1_1_s_h.html#ac768cf60d7151187490fb98888116fbf">  282</a></span>&#160;      <span class="keywordtype">void</span> <a class="code" href="class_k_1_1_s_h.html#ac768cf60d7151187490fb98888116fbf">log</a>(<span class="keywordtype">string</span> k, <span class="keywordtype">string</span> s) {</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;        <span class="keywordflow">if</span> (!wBorder) {</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;          cout &lt;&lt; <a class="code" href="class_k_1_1_s_h.html#a9467c6fc12388f8513d2f21f76bb7dc7">stamp</a>() &lt;&lt; k &lt;&lt; <a class="code" href="namespace_k.html#a37a06065638319240adf83b5bdfdf313">RWHITE</a> &lt;&lt; <span class="charliteral">&#39; &#39;</span> &lt;&lt; s &lt;&lt; <span class="stringliteral">&quot;.\n&quot;</span>;</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;          <span class="keywordflow">return</span>;</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;        }</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;        wmove(wLog, getmaxy(wLog)-1, 0);</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;        <a class="code" href="class_k_1_1_s_h.html#a9467c6fc12388f8513d2f21f76bb7dc7">stamp</a>();</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;        wattron(wLog, COLOR_PAIR(COLOR_WHITE));</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;        wattron(wLog, A_BOLD);</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;        wprintw(wLog, k.data());</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;        wattroff(wLog, A_BOLD);</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;        wprintw(wLog, <span class="keywordtype">string</span>(<span class="stringliteral">&quot; &quot;</span>).append(s).append(<span class="stringliteral">&quot;.\n&quot;</span>).data());</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;        wattroff(wLog, COLOR_PAIR(COLOR_WHITE));</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;        wrefresh(wLog);</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;      };</div><div class="line"><a name="l00297"></a><span class="lineno"><a class="line" href="class_k_1_1_s_h.html#a81f63afb8bf5d2129520b9d83a8aae45">  297</a></span>&#160;      <span class="keywordtype">void</span> <a class="code" href="class_k_1_1_s_h.html#a81f63afb8bf5d2129520b9d83a8aae45">log</a>(<span class="keywordtype">string</span> k, <span class="keywordtype">int</span> c = COLOR_WHITE, <span class="keywordtype">bool</span> b = <span class="keyword">false</span>) {</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;        <span class="keywordflow">if</span> (!wBorder) {</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;          cout &lt;&lt; <a class="code" href="namespace_k.html#a37a06065638319240adf83b5bdfdf313">RWHITE</a> &lt;&lt; k;</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;          <span class="keywordflow">return</span>;</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;        }</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;        wmove(wLog, getmaxy(wLog)-1, 0);</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;        <span class="keywordflow">if</span> (b) wattron(wLog, A_BOLD);</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;        wattron(wLog, COLOR_PAIR(c));</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;        wprintw(wLog, k.data());</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;        wattroff(wLog, COLOR_PAIR(c));</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;        <span class="keywordflow">if</span> (b) wattroff(wLog, A_BOLD);</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;        wrefresh(wLog);</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;      };</div><div class="line"><a name="l00310"></a><span class="lineno"><a class="line" href="class_k_1_1_s_h.html#a56dbc67f7f81955c835dee9802bc6d90">  310</a></span>&#160;      <span class="keywordtype">void</span> <a class="code" href="class_k_1_1_s_h.html#a56dbc67f7f81955c835dee9802bc6d90">log</a>(<span class="keyword">const</span> map&lt;mRandId, mOrder&gt; &amp;orders, <span class="keywordtype">bool</span> working) {</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;        <span class="keywordflow">if</span> (!wBorder) <span class="keywordflow">return</span>;</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;        openOrders.clear();</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">const</span> map&lt;mRandId, mOrder&gt;::value_type &amp;it : orders)</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="namespace_k.html#a9ca92b450f3b1738c485770d136ac9e0a829eadc8e29caab50cc26bc6a451a1f1">mStatus::Working</a> == it.second.orderStatus)</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;            openOrders.insert(pair&lt;mPrice, mOrder&gt;(it.second.price, it.second));</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;        <span class="keywordflow">if</span> (working and ++spinOrders == 4) spinOrders = 0;</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;        <a class="code" href="class_k_1_1_s_h.html#a5f2e190b8261a98c97c2ea4e86670d54">refresh</a>();</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;      };</div><div class="line"><a name="l00319"></a><span class="lineno"><a class="line" href="class_k_1_1_s_h.html#a5be6e66b940b986413db423ab7df1cd2">  319</a></span>&#160;      <span class="keywordtype">void</span> <a class="code" href="class_k_1_1_s_h.html#a5be6e66b940b986413db423ab7df1cd2">log</a>(<span class="keyword">const</span> <a class="code" href="struct_k_1_1m_position.html">mPosition</a> &amp;pos) {</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;        <span class="keywordflow">if</span> (!wBorder) <span class="keywordflow">return</span>;</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;        baseAmount = round(pos.<a class="code" href="struct_k_1_1m_position.html#a54ab63754ed59e0f7167d5b41d320e40">baseAmount</a> * 10 / pos.<a class="code" href="struct_k_1_1m_position.html#adbb3d8b288708abaf509a644671fb442">baseValue</a>);</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;        baseHeld = round(pos.<a class="code" href="struct_k_1_1m_position.html#ac6175d7078a5d215338188838dba1800">baseHeldAmount</a> * 10 / pos.<a class="code" href="struct_k_1_1m_position.html#adbb3d8b288708abaf509a644671fb442">baseValue</a>);</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;        quoteAmount = round(pos.<a class="code" href="struct_k_1_1m_position.html#acff2752d5a4e300b20b82133fab1f501">quoteAmount</a> * 10 / pos.<a class="code" href="struct_k_1_1m_position.html#aa18e1bafbe0751bf4ba417df1da264d9">quoteValue</a>);</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;        quoteHeld = round(pos.<a class="code" href="struct_k_1_1m_position.html#aca53b8b74d1f770cfb029ec8dd3df4d9">quoteHeldAmount</a> * 10 / pos.<a class="code" href="struct_k_1_1m_position.html#aa18e1bafbe0751bf4ba417df1da264d9">quoteValue</a>);</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;        <a class="code" href="fn_8h.html#a3d5a9f907b48f77b76e04ecbeb005cef">_fixed8_</a>(pos.<a class="code" href="struct_k_1_1m_position.html#adbb3d8b288708abaf509a644671fb442">baseValue</a>, baseValue)</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;        <a class="code" href="fn_8h.html#a3d5a9f907b48f77b76e04ecbeb005cef">_fixed8_</a>(pos.<a class="code" href="struct_k_1_1m_position.html#aa18e1bafbe0751bf4ba417df1da264d9">quoteValue</a>, quoteValue)</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;        <a class="code" href="class_k_1_1_s_h.html#a5f2e190b8261a98c97c2ea4e86670d54">refresh</a>();</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;      };</div><div class="line"><a name="l00329"></a><span class="lineno"><a class="line" href="class_k_1_1_s_h.html#ac7b5f65dd2a0c700f7ab8c39ff6c5963">  329</a></span>&#160;      <span class="keywordtype">void</span> <a class="code" href="class_k_1_1_s_h.html#ac7b5f65dd2a0c700f7ab8c39ff6c5963">log</a>(<span class="keywordtype">double</span> fv) {</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;        <span class="keywordflow">if</span> (!wBorder) <span class="keywordflow">return</span>;</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;        <a class="code" href="fn_8h.html#a3d5a9f907b48f77b76e04ecbeb005cef">_fixed8_</a>(fv, fairValue)</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;        <a class="code" href="class_k_1_1_s_h.html#a5f2e190b8261a98c97c2ea4e86670d54">refresh</a>();</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;      };</div><div class="line"><a name="l00334"></a><span class="lineno"><a class="line" href="class_k_1_1_s_h.html#a5f2e190b8261a98c97c2ea4e86670d54">  334</a></span>&#160;      <span class="keywordtype">void</span> <a class="code" href="class_k_1_1_s_h.html#a5f2e190b8261a98c97c2ea4e86670d54">refresh</a>() {</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;        <span class="keywordflow">if</span> (!wBorder) <span class="keywordflow">return</span>;</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;        <span class="keywordtype">int</span> lastcursor = cursor,</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;            y = getmaxy(wBorder),</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;            x = getmaxx(wBorder),</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;            yMaxLog = y - max((<span class="keywordtype">int</span>)openOrders.size(), (!gwConnected or !*<a class="code" href="class_k_1_1_s_h.html#a572945fdb3d861b6c685f6c5af9f1376">gwConnected</a>) ? 0 : 2) - 1,</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;            yOrders = yMaxLog;</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;        <span class="keywordflow">while</span> (lastcursor&lt;y) mvwhline(wBorder, lastcursor++, 1, <span class="charliteral">&#39; &#39;</span>, x-1);</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;        <span class="keywordflow">if</span> (yMaxLog!=cursor) {</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;          <span class="keywordflow">if</span> (yMaxLog&lt;cursor) wscrl(wLog, cursor-yMaxLog);</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;          wresize(wLog, yMaxLog-3, x-2-6);</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;          <span class="keywordflow">if</span> (yMaxLog&gt;cursor) wscrl(wLog, cursor-yMaxLog);</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;          wrefresh(wLog);</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;          cursor = yMaxLog;</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;        }</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;        mvwvline(wBorder, 1, 1, <span class="charliteral">&#39; &#39;</span>, y-1);</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;        mvwvline(wBorder, yMaxLog-1, 1, <span class="charliteral">&#39; &#39;</span>, y-1);</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;        <span class="keywordflow">for</span> (map&lt;<a class="code" href="km_8h.html#a392f9b7f384aa3539bbb890b059f5b8c">mPrice</a>, <a class="code" href="struct_k_1_1m_order.html">mOrder</a>, greater&lt;mPrice&gt;&gt;::value_type &amp;it : openOrders) {</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;          wattron(wBorder, COLOR_PAIR(it.second.side == <a class="code" href="namespace_k.html#a0b7d0fa0ffc9f87da1d6499cbcee7e94ae36ba1e187ae2b3ebcfd0a4c68367caf">mSide::Bid</a> ? COLOR_CYAN : COLOR_MAGENTA));</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;          mvwaddstr(wBorder, ++yOrders, 1, (<span class="keywordtype">string</span>(it.second.side == <a class="code" href="namespace_k.html#a0b7d0fa0ffc9f87da1d6499cbcee7e94ae36ba1e187ae2b3ebcfd0a4c68367caf">mSide::Bid</a> ? <span class="stringliteral">&quot;BID&quot;</span> : <span class="stringliteral">&quot;ASK&quot;</span>) + <span class="stringliteral">&quot; &gt; &quot;</span></div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;            + <a class="code" href="class_k_1_1_f_n.html#ae63dba2964cf9ff6d985f498dd9d0e57">FN::str8</a>(it.second.quantity) + <span class="charliteral">&#39; &#39;</span> + it.second.pair.base + <span class="stringliteral">&quot; at price &quot;</span></div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;            + <a class="code" href="class_k_1_1_f_n.html#ae63dba2964cf9ff6d985f498dd9d0e57">FN::str8</a>(it.second.price) + <span class="charliteral">&#39; &#39;</span> + it.second.pair.quote + <span class="stringliteral">&quot; (value &quot;</span></div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;            + <a class="code" href="class_k_1_1_f_n.html#ae63dba2964cf9ff6d985f498dd9d0e57">FN::str8</a>(abs(it.second.price * it.second.quantity)) + <span class="charliteral">&#39; &#39;</span> + it.second.pair.quote + <span class="stringliteral">&quot;)&quot;</span></div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;          ).data());</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;          wattroff(wBorder, COLOR_PAIR(it.second.side == <a class="code" href="namespace_k.html#a0b7d0fa0ffc9f87da1d6499cbcee7e94ae36ba1e187ae2b3ebcfd0a4c68367caf">mSide::Bid</a> ? COLOR_CYAN : COLOR_MAGENTA));</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;        }</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;        mvwaddch(wBorder, 0, 0, ACS_ULCORNER);</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;        mvwhline(wBorder, 0, 1, ACS_HLINE, max(80, x));</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;        mvwhline(wBorder, 1, 14, <span class="charliteral">&#39; &#39;</span>, max(80, x)-14);</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;        mvwvline(wBorder, 1, 0, ACS_VLINE, yMaxLog);</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;        mvwvline(wBorder, yMaxLog, 0, ACS_LTEE, y);</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;        mvwaddch(wBorder, y, 0, ACS_BTEE);</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;        mvwaddch(wBorder, 0, 12, ACS_RTEE);</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;        wattron(wBorder, COLOR_PAIR(COLOR_GREEN));</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;        <span class="keywordtype">string</span> title1 = string(<span class="stringliteral">&quot;   &quot;</span>) + title;</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;        <span class="keywordtype">string</span> title2 = string(<span class="stringliteral">&quot; &quot;</span>) + (port ? <span class="stringliteral">&quot;UI on &quot;</span> + protocol + <span class="stringliteral">&quot; port &quot;</span> + to_string(port) : <span class="stringliteral">&quot;headless&quot;</span>)  + <span class="charliteral">&#39; &#39;</span>;</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;        wattron(wBorder, A_BOLD);</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;        mvwaddstr(wBorder, 0, 13, title1.data());</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;        wattroff(wBorder, A_BOLD);</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;        mvwaddstr(wBorder, 0, 13+title1.length(), title2.data());</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;        mvwaddch(wBorder, 0, 14, <span class="charliteral">&#39;K&#39;</span> | A_BOLD);</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;        wattroff(wBorder, COLOR_PAIR(COLOR_GREEN));</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;        mvwaddch(wBorder, 0, 13+title1.length()+title2.length(), ACS_LTEE);</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;        mvwaddch(wBorder, 0, x-26, ACS_RTEE);</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;        mvwaddstr(wBorder, 0, x-25, (<span class="keywordtype">string</span>(<span class="stringliteral">&quot; [   ]: &quot;</span>) + ((!gwConnected or !*gwConnected) ? <span class="stringliteral">&quot;Start&quot;</span> : <span class="stringliteral">&quot;Stop?&quot;</span>) + <span class="stringliteral">&quot;, [ ]: Quit!&quot;</span>).data());</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;        mvwaddch(wBorder, 0, x-9, <span class="charliteral">&#39;q&#39;</span> | A_BOLD);</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;        wattron(wBorder, A_BOLD);</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;        mvwaddstr(wBorder, 0, x-23, <span class="stringliteral">&quot;ESC&quot;</span>);</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;        wattroff(wBorder, A_BOLD);</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;        mvwaddch(wBorder, 0, 7, ACS_TTEE);</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;        mvwaddch(wBorder, 1, 7, ACS_LLCORNER);</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;        mvwhline(wBorder, 1, 8, ACS_HLINE, 4);</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;        mvwaddch(wBorder, 1, 12, ACS_RTEE);</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;        wattron(wBorder, COLOR_PAIR(COLOR_MAGENTA));</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;        wattron(wBorder, A_BOLD);</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;        waddstr(wBorder, (<span class="keywordtype">string</span>(<span class="stringliteral">&quot; &quot;</span>) + baseValue + <span class="charliteral">&#39; &#39;</span>).data());</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;        wattroff(wBorder, A_BOLD);</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;        waddstr(wBorder, base.data());</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;        wattroff(wBorder, COLOR_PAIR(COLOR_MAGENTA));</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;        wattron(wBorder, COLOR_PAIR(COLOR_GREEN));</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;        waddstr(wBorder, <span class="stringliteral">&quot; or &quot;</span>);</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;        wattroff(wBorder, COLOR_PAIR(COLOR_GREEN));</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;        wattron(wBorder, COLOR_PAIR(COLOR_CYAN));</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;        wattron(wBorder, A_BOLD);</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;        waddstr(wBorder, quoteValue.data());</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;        wattroff(wBorder, A_BOLD);</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;        waddstr(wBorder, (<span class="keywordtype">string</span>(<span class="stringliteral">&quot; &quot;</span>) + quote + <span class="charliteral">&#39; &#39;</span>).data());</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;        wattroff(wBorder, COLOR_PAIR(COLOR_CYAN));</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;        <span class="keywordtype">size_t</span> xLenValue = 14+baseValue.length()+quoteValue.length()+base.length()+quote.length()+7,</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;               xMaxValue = max(xLenValue+1, 18+title1.length()+title2.length());</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;        mvwaddch(wBorder, 0, xMaxValue, ACS_TTEE);</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;        mvwaddch(wBorder, 1, xMaxValue, ACS_LRCORNER);</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;        mvwhline(wBorder, 1, xLenValue, ACS_HLINE, xMaxValue - xLenValue);</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;        mvwaddch(wBorder, 1, xLenValue, ACS_LTEE);</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;        <span class="keywordtype">int</span> yPos = max(1, (y / 2) - 6);</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;        mvwvline(wBorder, yPos+1, x-3, <span class="charliteral">&#39; &#39;</span>, 10);</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;        mvwvline(wBorder, yPos+1, x-4, <span class="charliteral">&#39; &#39;</span>, 10);</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;        wattron(wBorder, COLOR_PAIR(COLOR_CYAN));</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;        mvwvline(wBorder, yPos+11-quoteAmount-quoteHeld, x-4, ACS_CKBOARD, quoteHeld);</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;        wattron(wBorder, A_BOLD);</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;        mvwvline(wBorder, yPos+11-quoteAmount, x-4, <span class="charliteral">&#39; &#39;</span> | A_REVERSE, quoteAmount);</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;        wattroff(wBorder, A_BOLD);</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;        wattroff(wBorder, COLOR_PAIR(COLOR_CYAN));</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;        wattron(wBorder, COLOR_PAIR(COLOR_MAGENTA));</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;        mvwvline(wBorder, yPos+11-baseAmount-baseHeld, x-3, ACS_CKBOARD, baseHeld);</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;        wattron(wBorder, A_BOLD);</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;        mvwvline(wBorder, yPos+11-baseAmount, x-3, <span class="charliteral">&#39; &#39;</span> | A_REVERSE, baseAmount);</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;        wattroff(wBorder, A_BOLD);</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;        wattroff(wBorder, COLOR_PAIR(COLOR_MAGENTA));</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;        mvwaddch(wBorder, yPos, x-2, ACS_URCORNER);</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;        mvwaddch(wBorder, yPos+11, x-2, ACS_LRCORNER);</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;        mvwaddch(wBorder, yPos, x-5, ACS_ULCORNER);</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;        mvwaddch(wBorder, yPos+11, x-5, ACS_LLCORNER);</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;        mvwhline(wBorder, yPos, x-4, ACS_HLINE, 2);</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;        mvwhline(wBorder, yPos+11, x-4, ACS_HLINE, 2);</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;        mvwaddch(wBorder, yMaxLog, 0, ACS_LTEE);</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;        mvwhline(wBorder, yMaxLog, 1, ACS_HLINE, 3);</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;        mvwaddch(wBorder, yMaxLog, 4, ACS_RTEE);</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;        mvwaddstr(wBorder, yMaxLog, 5, <span class="stringliteral">&quot;&lt; (&quot;</span>);</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="class_k_1_1_s_h.html#a6d9ed4a9793ac810eca371568ee912d3">gwConnectedExchange</a> or !*<a class="code" href="class_k_1_1_s_h.html#a6d9ed4a9793ac810eca371568ee912d3">gwConnectedExchange</a>) {</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;          wattron(wBorder, COLOR_PAIR(COLOR_RED));</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;          wattron(wBorder, A_BOLD);</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;          waddstr(wBorder, <span class="stringliteral">&quot;DISCONNECTED&quot;</span>);</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;          wattroff(wBorder, A_BOLD);</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;          wattroff(wBorder, COLOR_PAIR(COLOR_RED));</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;          waddch(wBorder, <span class="charliteral">&#39;)&#39;</span>);</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;          <span class="keywordflow">if</span> (!gwConnected or !*gwConnected) {</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;            wattron(wBorder, COLOR_PAIR(COLOR_YELLOW));</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;            wattron(wBorder, A_BLINK);</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;            waddstr(wBorder, <span class="stringliteral">&quot;press START to trade&quot;</span>);</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;            wattroff(wBorder, A_BLINK);</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;            wattroff(wBorder, COLOR_PAIR(COLOR_YELLOW));</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;            waddch(wBorder, <span class="charliteral">&#39;)&#39;</span>);</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;          } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;            wattron(wBorder, COLOR_PAIR(COLOR_YELLOW));</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;            waddstr(wBorder, to_string(openOrders.size()).data());</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;            wattroff(wBorder, COLOR_PAIR(COLOR_YELLOW));</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;            waddstr(wBorder, <span class="stringliteral">&quot;) Open Orders&quot;</span>);</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;          }</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;          waddstr(wBorder, <span class="stringliteral">&quot; while&quot;</span>);</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;          wattron(wBorder, COLOR_PAIR(COLOR_GREEN));</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;          waddstr(wBorder, (<span class="keywordtype">string</span>(<span class="stringliteral">&quot; 1 &quot;</span>) + base + <span class="stringliteral">&quot; = &quot;</span>).data());</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;          wattron(wBorder, A_BOLD);</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;          waddstr(wBorder, fairValue.data());</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;          wattroff(wBorder, A_BOLD);</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;          waddstr(wBorder, (<span class="keywordtype">string</span>(<span class="stringliteral">&quot; &quot;</span>) + quote).data());</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;          wattroff(wBorder, COLOR_PAIR(COLOR_GREEN));</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;          waddch(wBorder, (!gwConnected or !*gwConnected) ? <span class="charliteral">&#39; &#39;</span> : <span class="charliteral">&#39;:&#39;</span>);</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;        }</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;        mvwaddch(wBorder, y-1, 0, ACS_LLCORNER);</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;        mvwaddstr(wBorder, 1, 2, <span class="keywordtype">string</span>(<span class="stringliteral">&quot;|/-\\&quot;</span>).substr(spinOrders, 1).data());</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;        move(yMaxLog-1, 2);</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;        wrefresh(wBorder);</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;        wrefresh(wLog);</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;      };</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;    <span class="keyword">private</span>:</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;      function&lt;void()&gt; happyEnding = [&amp;]() {</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;        <a class="code" href="class_k_1_1_s_h.html#a2463a3acef2df4c951ce942a3229e44e">quit</a>();</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;        cout &lt;&lt; <span class="charliteral">&#39;\n&#39;</span> &lt;&lt; <a class="code" href="class_k_1_1_s_h.html#a9467c6fc12388f8513d2f21f76bb7dc7">stamp</a>();</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;      };</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;      <span class="keywordtype">void</span> hotkeys() {</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;        hotkey = ::async(launch::async, [&amp;] { <span class="keywordflow">return</span> (<a class="code" href="namespace_k.html#a211862d8b09ec46a051464b6859c1306">mHotkey</a>)wgetch(wBorder); });</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;      };</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;<span class="preprocessor">#if CAN_RESIZE</span></div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;      function&lt;void()&gt; resize = [&amp;]() {</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;        <span class="keyword">struct </span>winsize ws;</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;        <span class="keywordflow">if</span> (ioctl(0, TIOCGWINSZ, &amp;ws) &lt; 0</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;          or (ws.ws_row == getmaxy(wBorder)</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;          and ws.ws_col == getmaxx(wBorder))</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;        ) <span class="keywordflow">return</span>;</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;        werase(wBorder);</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;        werase(wLog);</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;        <span class="keywordflow">if</span> (ws.ws_row &lt; 10) ws.ws_row = 10;</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;        <span class="keywordflow">if</span> (ws.ws_col &lt; 30) ws.ws_col = 30;</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;        wresize(wBorder, ws.ws_row, ws.ws_col);</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;        resizeterm(ws.ws_row, ws.ws_col);</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;        <a class="code" href="class_k_1_1_s_h.html#a5f2e190b8261a98c97c2ea4e86670d54">refresh</a>();</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;      };</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;  };</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;}</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;<span class="preprocessor">#endif</span></div><div class="ttc" id="class_k_1_1_s_h_html_a81f63afb8bf5d2129520b9d83a8aae45"><div class="ttname"><a href="class_k_1_1_s_h.html#a81f63afb8bf5d2129520b9d83a8aae45">K::SH::log</a></div><div class="ttdeci">void log(string k, int c=COLOR_WHITE, bool b=false)</div><div class="ttdef"><b>Definition:</b> <a href="sh_8h_source.html#l00297">sh.h:297</a></div></div>
<div class="ttc" id="class_k_1_1_s_h_html_ae8fa6fc69497d85bcf25571f2f80f353"><div class="ttname"><a href="class_k_1_1_s_h.html#ae8fa6fc69497d85bcf25571f2f80f353">K::SH::waitForUser</a></div><div class="ttdeci">void waitForUser()</div><div class="ttdef"><b>Definition:</b> <a href="sh_8h_source.html#l00101">sh.h:101</a></div></div>
<div class="ttc" id="class_k_1_1_s_h_html_a81e184501800070f574e7b688069c3ec"><div class="ttname"><a href="class_k_1_1_s_h.html#a81e184501800070f574e7b688069c3ec">K::SH::logErr</a></div><div class="ttdeci">void logErr(string k, string s, string m=&quot; Errrror: &quot;)</div><div class="ttdef"><b>Definition:</b> <a href="sh_8h_source.html#l00140">sh.h:140</a></div></div>
<div class="ttc" id="class_k_1_1_s_h_html_a4c6bd9d7e5cc908ef96085609e455cb1"><div class="ttname"><a href="class_k_1_1_s_h.html#a4c6bd9d7e5cc908ef96085609e455cb1">K::SH::pressme</a></div><div class="ttdeci">void pressme(mHotkey ch, function&lt; void()&gt; *fn)</div><div class="ttdef"><b>Definition:</b> <a href="sh_8h_source.html#l00085">sh.h:85</a></div></div>
<div class="ttc" id="struct_k_1_1m_trade_html_afc5924267a11b19eb2f198a919a12351"><div class="ttname"><a href="struct_k_1_1m_trade.html#afc5924267a11b19eb2f198a919a12351">K::mTrade::side</a></div><div class="ttdeci">mSide side</div><div class="ttdef"><b>Definition:</b> <a href="km_8h_source.html#l00411">km.h:411</a></div></div>
<div class="ttc" id="namespace_k_html_a0b7d0fa0ffc9f87da1d6499cbcee7e94ae36ba1e187ae2b3ebcfd0a4c68367caf"><div class="ttname"><a href="namespace_k.html#a0b7d0fa0ffc9f87da1d6499cbcee7e94ae36ba1e187ae2b3ebcfd0a4c68367caf">K::mSide::Bid</a></div></div>
<div class="ttc" id="struct_k_1_1m_position_html_aca53b8b74d1f770cfb029ec8dd3df4d9"><div class="ttname"><a href="struct_k_1_1m_position.html#aca53b8b74d1f770cfb029ec8dd3df4d9">K::mPosition::quoteHeldAmount</a></div><div class="ttdeci">mAmount quoteHeldAmount</div><div class="ttdef"><b>Definition:</b> <a href="km_8h_source.html#l00367">km.h:367</a></div></div>
<div class="ttc" id="fn_8h_html_a3d5a9f907b48f77b76e04ecbeb005cef"><div class="ttname"><a href="fn_8h.html#a3d5a9f907b48f77b76e04ecbeb005cef">_fixed8_</a></div><div class="ttdeci">#define _fixed8_(d, s)</div><div class="ttdef"><b>Definition:</b> <a href="fn_8h_source.html#l00019">fn.h:19</a></div></div>
<div class="ttc" id="class_k_1_1_s_h_html"><div class="ttname"><a href="class_k_1_1_s_h.html">K::SH</a></div><div class="ttdef"><b>Definition:</b> <a href="sh_8h_source.html#l00013">sh.h:13</a></div></div>
<div class="ttc" id="namespace_k_html_a723a80b3fad44765a8c6371fd4841609"><div class="ttname"><a href="namespace_k.html#a723a80b3fad44765a8c6371fd4841609">K::BWHITE</a></div><div class="ttdeci">char BWHITE[]</div><div class="ttdef"><b>Definition:</b> <a href="sh_8h_source.html#l00011">sh.h:11</a></div></div>
<div class="ttc" id="namespace_k_html_a3da250819294c55d5728586148bfa19e"><div class="ttname"><a href="namespace_k.html#a3da250819294c55d5728586148bfa19e">K::mConnectivity</a></div><div class="ttdeci">mConnectivity</div><div class="ttdef"><b>Definition:</b> <a href="km_8h_source.html#l00012">km.h:12</a></div></div>
<div class="ttc" id="namespace_k_html_a1203c8bea34ade1c1d524b0df5bfdf37"><div class="ttname"><a href="namespace_k.html#a1203c8bea34ade1c1d524b0df5bfdf37">K::RBLACK</a></div><div class="ttdeci">char RBLACK[]</div><div class="ttdef"><b>Definition:</b> <a href="sh_8h_source.html#l00008">sh.h:8</a></div></div>
<div class="ttc" id="namespace_k_html_a9c4858b8b93beb509648e92071d727ca"><div class="ttname"><a href="namespace_k.html#a9c4858b8b93beb509648e92071d727ca">K::RGREEN</a></div><div class="ttdeci">char RGREEN[]</div><div class="ttdef"><b>Definition:</b> <a href="sh_8h_source.html#l00008">sh.h:8</a></div></div>
<div class="ttc" id="namespace_k_html_ae976a2e4e900318926db4fa1624bc30a"><div class="ttname"><a href="namespace_k.html#ae976a2e4e900318926db4fa1624bc30a">K::RRED</a></div><div class="ttdeci">char RRED[]</div><div class="ttdef"><b>Definition:</b> <a href="sh_8h_source.html#l00008">sh.h:8</a></div></div>
<div class="ttc" id="namespace_k_html_a035ca76c4d8abd4253d53e1dfb952368"><div class="ttname"><a href="namespace_k.html#a035ca76c4d8abd4253d53e1dfb952368">K::RBLUE</a></div><div class="ttdeci">char RBLUE[]</div><div class="ttdef"><b>Definition:</b> <a href="sh_8h_source.html#l00009">sh.h:9</a></div></div>
<div class="ttc" id="namespace_k_html_a9ca92b450f3b1738c485770d136ac9e0a829eadc8e29caab50cc26bc6a451a1f1"><div class="ttname"><a href="namespace_k.html#a9ca92b450f3b1738c485770d136ac9e0a829eadc8e29caab50cc26bc6a451a1f1">K::mStatus::Working</a></div></div>
<div class="ttc" id="struct_k_1_1m_position_html"><div class="ttname"><a href="struct_k_1_1m_position.html">K::mPosition</a></div><div class="ttdef"><b>Definition:</b> <a href="km_8h_source.html#l00366">km.h:366</a></div></div>
<div class="ttc" id="namespace_k_html_a2fcd49453f10ffd3ccb5aebe30f5d0c0"><div class="ttname"><a href="namespace_k.html#a2fcd49453f10ffd3ccb5aebe30f5d0c0">K::BBLUE</a></div><div class="ttdeci">char BBLUE[]</div><div class="ttdef"><b>Definition:</b> <a href="sh_8h_source.html#l00011">sh.h:11</a></div></div>
<div class="ttc" id="namespace_k_html_a610d2184e75b6475eaf1f16700be824e"><div class="ttname"><a href="namespace_k.html#a610d2184e75b6475eaf1f16700be824e">K::RRESET</a></div><div class="ttdeci">char RRESET[]</div><div class="ttdef"><b>Definition:</b> <a href="sh_8h_source.html#l00012">sh.h:12</a></div></div>
<div class="ttc" id="namespace_k_html_a37a06065638319240adf83b5bdfdf313"><div class="ttname"><a href="namespace_k.html#a37a06065638319240adf83b5bdfdf313">K::RWHITE</a></div><div class="ttdeci">char RWHITE[]</div><div class="ttdef"><b>Definition:</b> <a href="sh_8h_source.html#l00009">sh.h:9</a></div></div>
<div class="ttc" id="class_k_1_1_s_h_html_ac7b5f65dd2a0c700f7ab8c39ff6c5963"><div class="ttname"><a href="class_k_1_1_s_h.html#ac7b5f65dd2a0c700f7ab8c39ff6c5963">K::SH::log</a></div><div class="ttdeci">void log(double fv)</div><div class="ttdef"><b>Definition:</b> <a href="sh_8h_source.html#l00329">sh.h:329</a></div></div>
<div class="ttc" id="namespace_k_html_a1c3ecbe3046298af183be61349de6900"><div class="ttname"><a href="namespace_k.html#a1c3ecbe3046298af183be61349de6900">K::endingFn</a></div><div class="ttdeci">vector&lt; function&lt; void()&gt; * &gt; endingFn</div><div class="ttdef"><b>Definition:</b> <a href="sh_8h_source.html#l00007">sh.h:7</a></div></div>
<div class="ttc" id="namespace_k_html_a211862d8b09ec46a051464b6859c1306"><div class="ttname"><a href="namespace_k.html#a211862d8b09ec46a051464b6859c1306">K::mHotkey</a></div><div class="ttdeci">mHotkey</div><div class="ttdef"><b>Definition:</b> <a href="km_8h_source.html#l00028">km.h:28</a></div></div>
<div class="ttc" id="class_k_1_1_s_h_html_a572945fdb3d861b6c685f6c5af9f1376"><div class="ttname"><a href="class_k_1_1_s_h.html#a572945fdb3d861b6c685f6c5af9f1376">K::SH::gwConnected</a></div><div class="ttdeci">mConnectivity * gwConnected</div><div class="ttdef"><b>Definition:</b> <a href="sh_8h_source.html#l00036">sh.h:36</a></div></div>
<div class="ttc" id="struct_k_1_1m_trade_html_a11dec7b102d6df830347649bfbf35399"><div class="ttname"><a href="struct_k_1_1m_trade.html#a11dec7b102d6df830347649bfbf35399">K::mTrade::pair</a></div><div class="ttdeci">mPair pair</div><div class="ttdef"><b>Definition:</b> <a href="km_8h_source.html#l00412">km.h:412</a></div></div>
<div class="ttc" id="struct_k_1_1m_position_html_a54ab63754ed59e0f7167d5b41d320e40"><div class="ttname"><a href="struct_k_1_1m_position.html#a54ab63754ed59e0f7167d5b41d320e40">K::mPosition::baseAmount</a></div><div class="ttdeci">mAmount baseAmount</div><div class="ttdef"><b>Definition:</b> <a href="km_8h_source.html#l00367">km.h:367</a></div></div>
<div class="ttc" id="class_k_1_1_s_h_html_aa6ff36d9cf9124487791c66fe0f121e7"><div class="ttname"><a href="class_k_1_1_s_h.html#aa6ff36d9cf9124487791c66fe0f121e7">K::SH::logWar</a></div><div class="ttdeci">void logWar(string k, string s)</div><div class="ttdef"><b>Definition:</b> <a href="sh_8h_source.html#l00137">sh.h:137</a></div></div>
<div class="ttc" id="struct_k_1_1m_pair_html_abb05d77de0b838cdc580fe5759070aad"><div class="ttname"><a href="struct_k_1_1m_pair.html#abb05d77de0b838cdc580fe5759070aad">K::mPair::quote</a></div><div class="ttdeci">mCoinId quote</div><div class="ttdef"><b>Definition:</b> <a href="km_8h_source.html#l00252">km.h:252</a></div></div>
<div class="ttc" id="struct_k_1_1m_position_html_adbb3d8b288708abaf509a644671fb442"><div class="ttname"><a href="struct_k_1_1m_position.html#adbb3d8b288708abaf509a644671fb442">K::mPosition::baseValue</a></div><div class="ttdeci">mAmount baseValue</div><div class="ttdef"><b>Definition:</b> <a href="km_8h_source.html#l00367">km.h:367</a></div></div>
<div class="ttc" id="namespace_k_html_a211862d8b09ec46a051464b6859c1306a7694f4a66316e53c8cdd9d9954bd611d"><div class="ttname"><a href="namespace_k.html#a211862d8b09ec46a051464b6859c1306a7694f4a66316e53c8cdd9d9954bd611d">K::mHotkey::q</a></div></div>
<div class="ttc" id="class_k_1_1_s_h_html_a318dc7a3f5064dac8e50e5d9fbd5d75f"><div class="ttname"><a href="class_k_1_1_s_h.html#a318dc7a3f5064dac8e50e5d9fbd5d75f">K::SH::SH</a></div><div class="ttdeci">SH()</div><div class="ttdef"><b>Definition:</b> <a href="sh_8h_source.html#l00040">sh.h:40</a></div></div>
<div class="ttc" id="class_k_1_1_s_h_html_a5f2e190b8261a98c97c2ea4e86670d54"><div class="ttname"><a href="class_k_1_1_s_h.html#a5f2e190b8261a98c97c2ea4e86670d54">K::SH::refresh</a></div><div class="ttdeci">void refresh()</div><div class="ttdef"><b>Definition:</b> <a href="sh_8h_source.html#l00334">sh.h:334</a></div></div>
<div class="ttc" id="struct_k_1_1m_trade_html_a2c33cdf6b415658a577653196c59739a"><div class="ttname"><a href="struct_k_1_1m_trade.html#a2c33cdf6b415658a577653196c59739a">K::mTrade::value</a></div><div class="ttdeci">mAmount value</div><div class="ttdef"><b>Definition:</b> <a href="km_8h_source.html#l00415">km.h:415</a></div></div>
<div class="ttc" id="class_k_1_1_s_h_html_a09145551996ba5f25fb67280967aef90"><div class="ttname"><a href="class_k_1_1_s_h.html#a09145551996ba5f25fb67280967aef90">K::SH::logVer</a></div><div class="ttdeci">void logVer(string k, int c)</div><div class="ttdef"><b>Definition:</b> <a href="sh_8h_source.html#l00235">sh.h:235</a></div></div>
<div class="ttc" id="namespace_k_html_a2c3e50cb34db635087047ef75ab1ca52"><div class="ttname"><a href="namespace_k.html#a2c3e50cb34db635087047ef75ab1ca52">K::BCYAN</a></div><div class="ttdeci">char BCYAN[]</div><div class="ttdef"><b>Definition:</b> <a href="sh_8h_source.html#l00011">sh.h:11</a></div></div>
<div class="ttc" id="struct_k_1_1m_trade_html_a96d6f95b2441f538965c5d8c1aa32f4e"><div class="ttname"><a href="struct_k_1_1m_trade.html#a96d6f95b2441f538965c5d8c1aa32f4e">K::mTrade::price</a></div><div class="ttdeci">mPrice price</div><div class="ttdef"><b>Definition:</b> <a href="km_8h_source.html#l00413">km.h:413</a></div></div>
<div class="ttc" id="namespace_k_html_aa83d8d71c463813bdbd57fab20312b7d"><div class="ttname"><a href="namespace_k.html#aa83d8d71c463813bdbd57fab20312b7d">K::BGREEN</a></div><div class="ttdeci">char BGREEN[]</div><div class="ttdef"><b>Definition:</b> <a href="sh_8h_source.html#l00010">sh.h:10</a></div></div>
<div class="ttc" id="class_k_1_1_f_n_html_ae63dba2964cf9ff6d985f498dd9d0e57"><div class="ttname"><a href="class_k_1_1_f_n.html#ae63dba2964cf9ff6d985f498dd9d0e57">K::FN::str8</a></div><div class="ttdeci">static string str8(double d)</div><div class="ttdef"><b>Definition:</b> <a href="fn_8h_source.html#l00029">fn.h:29</a></div></div>
<div class="ttc" id="struct_k_1_1m_order_html"><div class="ttname"><a href="struct_k_1_1m_order.html">K::mOrder</a></div><div class="ttdef"><b>Definition:</b> <a href="km_8h_source.html#l00475">km.h:475</a></div></div>
<div class="ttc" id="namespace_k_html_ae09107156acfd00c2e31f049f70b622a"><div class="ttname"><a href="namespace_k.html#ae09107156acfd00c2e31f049f70b622a">K::BRED</a></div><div class="ttdeci">char BRED[]</div><div class="ttdef"><b>Definition:</b> <a href="sh_8h_source.html#l00010">sh.h:10</a></div></div>
<div class="ttc" id="namespace_k_html"><div class="ttname"><a href="namespace_k.html">K</a></div><div class="ttdef"><b>Definition:</b> <a href="cf_8h_source.html#l00004">cf.h:4</a></div></div>
<div class="ttc" id="struct_k_1_1m_pair_html_a88838a75375332fd734e38ba4d7d870c"><div class="ttname"><a href="struct_k_1_1m_pair.html#a88838a75375332fd734e38ba4d7d870c">K::mPair::base</a></div><div class="ttdeci">mCoinId base</div><div class="ttdef"><b>Definition:</b> <a href="km_8h_source.html#l00252">km.h:252</a></div></div>
<div class="ttc" id="class_k_1_1_s_h_html_abb2930f405f8983fca3bab0e1d505a85"><div class="ttname"><a href="class_k_1_1_s_h.html#abb2930f405f8983fca3bab0e1d505a85">K::SH::changelog</a></div><div class="ttdeci">static string changelog()</div><div class="ttdef"><b>Definition:</b> <a href="sh_8h_source.html#l00082">sh.h:82</a></div></div>
<div class="ttc" id="fn_8h_html_a8e4989b59a9e6ba0edbf26978c7a4f38"><div class="ttname"><a href="fn_8h.html#a8e4989b59a9e6ba0edbf26978c7a4f38">_Tclock_</a></div><div class="ttdeci">#define _Tclock_</div><div class="ttdef"><b>Definition:</b> <a href="fn_8h_source.html#l00008">fn.h:8</a></div></div>
<div class="ttc" id="namespace_k_html_a1b5ebfb775cf88920f1beb1b59c80137"><div class="ttname"><a href="namespace_k.html#a1b5ebfb775cf88920f1beb1b59c80137">K::BBLACK</a></div><div class="ttdeci">char BBLACK[]</div><div class="ttdef"><b>Definition:</b> <a href="sh_8h_source.html#l00010">sh.h:10</a></div></div>
<div class="ttc" id="class_k_1_1_s_h_html_af67052c37f765ca542764f5fcfdde593"><div class="ttname"><a href="class_k_1_1_s_h.html#af67052c37f765ca542764f5fcfdde593">K::SH::logDB</a></div><div class="ttdeci">void logDB(string k)</div><div class="ttdef"><b>Definition:</b> <a href="sh_8h_source.html#l00161">sh.h:161</a></div></div>
<div class="ttc" id="class_k_1_1_s_h_html_aca26ec816d45509907350a56b57ea869"><div class="ttname"><a href="class_k_1_1_s_h.html#aca26ec816d45509907350a56b57ea869">K::SH::logUI</a></div><div class="ttdeci">void logUI()</div><div class="ttdef"><b>Definition:</b> <a href="sh_8h_source.html#l00181">sh.h:181</a></div></div>
<div class="ttc" id="class_k_1_1_s_h_html_a05d165fd99c6a9407040879a506bcf94"><div class="ttname"><a href="class_k_1_1_s_h.html#a05d165fd99c6a9407040879a506bcf94">K::SH::log</a></div><div class="ttdeci">void log(string k, string s, string v)</div><div class="ttdef"><b>Definition:</b> <a href="sh_8h_source.html#l00261">sh.h:261</a></div></div>
<div class="ttc" id="class_k_1_1_s_h_html_a4c49d97d050be83fa5908a03c8c47c8a"><div class="ttname"><a href="class_k_1_1_s_h.html#a4c49d97d050be83fa5908a03c8c47c8a">K::SH::error</a></div><div class="ttdeci">int error(string k, string s, bool reboot=false)</div><div class="ttdef"><b>Definition:</b> <a href="sh_8h_source.html#l00095">sh.h:95</a></div></div>
<div class="ttc" id="class_k_1_1_s_h_html_a50fa1ebfccaac1a37b97b499780a4d30"><div class="ttname"><a href="class_k_1_1_s_h.html#a50fa1ebfccaac1a37b97b499780a4d30">K::SH::log</a></div><div class="ttdeci">void log(mTrade k, string e)</div><div class="ttdef"><b>Definition:</b> <a href="sh_8h_source.html#l00238">sh.h:238</a></div></div>
<div class="ttc" id="struct_k_1_1m_trade_html"><div class="ttname"><a href="struct_k_1_1m_trade.html">K::mTrade</a></div><div class="ttdef"><b>Definition:</b> <a href="km_8h_source.html#l00409">km.h:409</a></div></div>
<div class="ttc" id="class_k_1_1_s_h_html_a9467c6fc12388f8513d2f21f76bb7dc7"><div class="ttname"><a href="class_k_1_1_s_h.html#a9467c6fc12388f8513d2f21f76bb7dc7">K::SH::stamp</a></div><div class="ttdeci">string stamp()</div><div class="ttdef"><b>Definition:</b> <a href="sh_8h_source.html#l00112">sh.h:112</a></div></div>
<div class="ttc" id="namespace_k_html_abd378d9900fa5f1effc177ef1a3eaf88"><div class="ttname"><a href="namespace_k.html#abd378d9900fa5f1effc177ef1a3eaf88">K::RYELLOW</a></div><div class="ttdeci">char RYELLOW[]</div><div class="ttdef"><b>Definition:</b> <a href="sh_8h_source.html#l00008">sh.h:8</a></div></div>
<div class="ttc" id="class_k_1_1_s_h_html_a2463a3acef2df4c951ce942a3229e44e"><div class="ttname"><a href="class_k_1_1_s_h.html#a2463a3acef2df4c951ce942a3229e44e">K::SH::quit</a></div><div class="ttdeci">void quit()</div><div class="ttdef"><b>Definition:</b> <a href="sh_8h_source.html#l00089">sh.h:89</a></div></div>
<div class="ttc" id="namespace_k_html_a211862d8b09ec46a051464b6859c1306af09564c9ca56850d4cd6b3319e541aee"><div class="ttname"><a href="namespace_k.html#a211862d8b09ec46a051464b6859c1306af09564c9ca56850d4cd6b3319e541aee">K::mHotkey::Q</a></div></div>
<div class="ttc" id="struct_k_1_1m_position_html_aa18e1bafbe0751bf4ba417df1da264d9"><div class="ttname"><a href="struct_k_1_1m_position.html#aa18e1bafbe0751bf4ba417df1da264d9">K::mPosition::quoteValue</a></div><div class="ttdeci">mAmount quoteValue</div><div class="ttdef"><b>Definition:</b> <a href="km_8h_source.html#l00367">km.h:367</a></div></div>
<div class="ttc" id="class_k_1_1_s_h_html_a56dbc67f7f81955c835dee9802bc6d90"><div class="ttname"><a href="class_k_1_1_s_h.html#a56dbc67f7f81955c835dee9802bc6d90">K::SH::log</a></div><div class="ttdeci">void log(const map&lt; mRandId, mOrder &gt; &amp;orders, bool working)</div><div class="ttdef"><b>Definition:</b> <a href="sh_8h_source.html#l00310">sh.h:310</a></div></div>
<div class="ttc" id="class_k_1_1_s_h_html_abacd4501fa9314b249f770765816dce5"><div class="ttname"><a href="class_k_1_1_s_h.html#abacd4501fa9314b249f770765816dce5">K::SH::config</a></div><div class="ttdeci">void config(string base_, string quote_, string argExchange, int argColors, int argPort, int argNaked)</div><div class="ttdef"><b>Definition:</b> <a href="sh_8h_source.html#l00050">sh.h:50</a></div></div>
<div class="ttc" id="km_8h_html_a392f9b7f384aa3539bbb890b059f5b8c"><div class="ttname"><a href="km_8h.html#a392f9b7f384aa3539bbb890b059f5b8c">mPrice</a></div><div class="ttdeci">#define mPrice</div><div class="ttdef"><b>Definition:</b> <a href="km_8h_source.html#l00005">km.h:5</a></div></div>
<div class="ttc" id="class_k_1_1_s_h_html_a5be6e66b940b986413db423ab7df1cd2"><div class="ttname"><a href="class_k_1_1_s_h.html#a5be6e66b940b986413db423ab7df1cd2">K::SH::log</a></div><div class="ttdeci">void log(const mPosition &amp;pos)</div><div class="ttdef"><b>Definition:</b> <a href="sh_8h_source.html#l00319">sh.h:319</a></div></div>
<div class="ttc" id="namespace_k_html_adcaba86455bd5bd0cbdeac28c4fced2b"><div class="ttname"><a href="namespace_k.html#adcaba86455bd5bd0cbdeac28c4fced2b">K::BPURPLE</a></div><div class="ttdeci">char BPURPLE[]</div><div class="ttdef"><b>Definition:</b> <a href="sh_8h_source.html#l00011">sh.h:11</a></div></div>
<div class="ttc" id="struct_k_1_1m_trade_html_ab51872d3926e8302926e8ac851dbb158"><div class="ttname"><a href="struct_k_1_1m_trade.html#ab51872d3926e8302926e8ac851dbb158">K::mTrade::quantity</a></div><div class="ttdeci">mAmount quantity</div><div class="ttdef"><b>Definition:</b> <a href="km_8h_source.html#l00415">km.h:415</a></div></div>
<div class="ttc" id="struct_k_1_1m_position_html_acff2752d5a4e300b20b82133fab1f501"><div class="ttname"><a href="struct_k_1_1m_position.html#acff2752d5a4e300b20b82133fab1f501">K::mPosition::quoteAmount</a></div><div class="ttdeci">mAmount quoteAmount</div><div class="ttdef"><b>Definition:</b> <a href="km_8h_source.html#l00367">km.h:367</a></div></div>
<div class="ttc" id="namespace_k_html_a816b9af371d1741fead9f73abb978052"><div class="ttname"><a href="namespace_k.html#a816b9af371d1741fead9f73abb978052">K::RCYAN</a></div><div class="ttdeci">char RCYAN[]</div><div class="ttdef"><b>Definition:</b> <a href="sh_8h_source.html#l00009">sh.h:9</a></div></div>
<div class="ttc" id="namespace_k_html_a16f016905667739f3d64b6ab7e4d7f95"><div class="ttname"><a href="namespace_k.html#a16f016905667739f3d64b6ab7e4d7f95">K::RPURPLE</a></div><div class="ttdeci">char RPURPLE[]</div><div class="ttdef"><b>Definition:</b> <a href="sh_8h_source.html#l00009">sh.h:9</a></div></div>
<div class="ttc" id="class_k_1_1_s_h_html_ac768cf60d7151187490fb98888116fbf"><div class="ttname"><a href="class_k_1_1_s_h.html#ac768cf60d7151187490fb98888116fbf">K::SH::log</a></div><div class="ttdeci">void log(string k, string s)</div><div class="ttdef"><b>Definition:</b> <a href="sh_8h_source.html#l00282">sh.h:282</a></div></div>
<div class="ttc" id="namespace_k_html_aa522b04bcf50df65fd4819d0b46d6664"><div class="ttname"><a href="namespace_k.html#aa522b04bcf50df65fd4819d0b46d6664">K::BYELLOW</a></div><div class="ttdeci">char BYELLOW[]</div><div class="ttdef"><b>Definition:</b> <a href="sh_8h_source.html#l00010">sh.h:10</a></div></div>
<div class="ttc" id="class_k_1_1_s_h_html_a6d9ed4a9793ac810eca371568ee912d3"><div class="ttname"><a href="class_k_1_1_s_h.html#a6d9ed4a9793ac810eca371568ee912d3">K::SH::gwConnectedExchange</a></div><div class="ttdeci">mConnectivity * gwConnectedExchange</div><div class="ttdef"><b>Definition:</b> <a href="sh_8h_source.html#l00037">sh.h:37</a></div></div>
<div class="ttc" id="struct_k_1_1m_position_html_ac6175d7078a5d215338188838dba1800"><div class="ttname"><a href="struct_k_1_1m_position.html#ac6175d7078a5d215338188838dba1800">K::mPosition::baseHeldAmount</a></div><div class="ttdeci">mAmount baseHeldAmount</div><div class="ttdef"><b>Definition:</b> <a href="km_8h_source.html#l00367">km.h:367</a></div></div>
<div class="ttc" id="class_k_1_1_f_n_html_ab3fdd85f18a0ef53c8b2fab520722313"><div class="ttname"><a href="class_k_1_1_f_n.html#ab3fdd85f18a0ef53c8b2fab520722313">K::FN::output</a></div><div class="ttdeci">static string output(string cmd)</div><div class="ttdef"><b>Definition:</b> <a href="fn_8h_source.html#l00168">fn.h:168</a></div></div>
<div class="ttc" id="class_k_1_1_s_h_html_aeb72b6e20d3a581dcdede91beb824d9f"><div class="ttname"><a href="class_k_1_1_s_h.html#aeb72b6e20d3a581dcdede91beb824d9f">K::SH::protocol</a></div><div class="ttdeci">string protocol</div><div class="ttdef"><b>Definition:</b> <a href="sh_8h_source.html#l00035">sh.h:35</a></div></div>
<div class="ttc" id="class_k_1_1_s_h_html_aeea74b282180b4d73d9855920edecc7f"><div class="ttname"><a href="class_k_1_1_s_h.html#aeea74b282180b4d73d9855920edecc7f">K::SH::logUIsess</a></div><div class="ttdeci">void logUIsess(int k, string s)</div><div class="ttdef"><b>Definition:</b> <a href="sh_8h_source.html#l00208">sh.h:208</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="sh_8h.html">sh.h</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
